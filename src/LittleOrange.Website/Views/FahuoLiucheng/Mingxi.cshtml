@using Coldew.Api;
@{
    ViewBag.Title = "Faqi";
    Layout = "";
    MetadataInfo metadataInfo = this.Model;
}
<!DOCTYPE html>
<html>
<head>
    <title>@ViewBag.Title</title>
    <link type="text/css" href='@this.Url.Content("~/css/smoothness/jquery-ui-1.8.23.custom.css")' rel="stylesheet" />
	<link type="text/css" href='@this.Url.Content("~/css/jquery-ui-datagrid.css")' rel="stylesheet" />
	<link type="text/css" href="@this.Url.Content("~/css/smoothness/jquery-ui-tree.css")" rel="stylesheet" />
    <link type="text/css" href="@this.Url.Content("~/css/bootstrap.min.css")" rel="stylesheet" />
	<link type="text/css" href='@this.Url.Content("~/css/default.css")' rel="stylesheet" />
	<script type="text/javascript" src='@this.Url.Content("~/js/jquery-1.8.0.min.js")'></script>
	<script type="text/javascript" src='@this.Url.Content("~/js/jquery-ui-1.8.23.custom.min.js")'></script>
	<script type="text/javascript" src='@this.Url.Content("~/js/jquery.json-2.3.js")'></script>
	<script type="text/javascript" src='@this.Url.Content("~/js/jquery-validate.js")'></script>
	<script type="text/javascript" src='@this.Url.Content("~/js/jquery.ui.datagrid.js")'></script>
	<script type="text/javascript" src="@this.Url.Content("~/js/jquery.ui.tree.js")"></script>
	<script type="text/javascript" src="@this.Url.Content("~/js/jquery.ui.pager.js")"></script>
	<script type="text/javascript" src="@this.Url.Content("~/js/jquery.ui.chengyuan.js")"></script>
	<script type="text/javascript" src="@this.Url.Content("~/js/chengyuanDialog.js")"></script>
	<script type="text/javascript" src='@this.Url.Content("~/js/jianglaiZhipaiDialog.js")'></script>
	<script type="text/javascript" src='@this.Url.Content("~/js/renwuSousuoPopover.js")'></script>
	<script type="text/javascript" src='@this.Url.Content("~/js/liuchengtuDialog.js")'></script>
	<script type="text/javascript" src='@this.Url.Content("~/js/bootstrap.min.js")'></script>
	<script type="text/javascript" src='@this.Url.Content("~/js/jquery-extend.js")'></script>
	<script type="text/javascript" src='@this.Url.Content("~/js/metadataSelectDialog.js")'></script>
	<script type="text/javascript" src='@this.Url.Content("~/js/metadataSelect.js")'></script>
    <!--[if IE]>
	    <script type="text/javascript" src='@this.Url.Content("~/js/placeholder.js")'></script>
    <![endif]-->
    <!--[if lt IE 9]>
	    <script type="text/javascript" src='@this.Url.Content("~/js/html5shiv.js")'></script>
    <![endif]-->
    <script language="javascript" type="text/javascript">
        $.baseUrl = "@this.Url.Content("~/")";
    </script>
</head>

<body>
      <h3 style="text-align:center">发货申请单</h3>
<form class="form-horizontal" id="baseInfoForm">
    <fieldset>
        <legend>基本信息</legend>
        <div class='row-fluid'>
            <div class="span6">
                <div class="control-group">
                    <label class="control-label" >省份</label>
                    <div class="controls">
                        <label>@metadataInfo.GetProperty("shengfen").ShowValue</label>
                    </div>
                </div>
            </div>
            <div class="span6">
                <div class="control-group">
                    <label class="control-label" >地区</label>
                    <div class="controls">
                        <label>@metadataInfo.GetProperty("diqu").ShowValue</label>
                    </div>
                </div>
            </div>
        </div>
        <div class='row-fluid'>
            <div class="span6">
                <div class="control-group">
                    <label class="control-label" >发货日期</label>
                    <div class="controls">
                        <label>@metadataInfo.GetProperty("fahuoRiqi").ShowValue</label>
                    </div>
                </div>
            </div>
            <div class="span6">
                <div class="control-group">
                    <label class="control-label" >汇款日期</label>
                    <div class="controls">
                        <label>@metadataInfo.GetProperty("huikuanRiqi").ShowValue</label>
                    </div>
                </div>
            </div>
        </div>
        <div class='row-fluid'>
            <div class="span6">
                <div class="control-group">
                    <label class="control-label" >汇款金额</label>
                    <div class="controls">
                        <label>@metadataInfo.GetProperty("huikuanJine").ShowValue</label>
                    </div>
                </div>
            </div>
            <div class="span6">
                <div class="control-group">
                    <label class="control-label" >汇款类型</label>
                    <div class="controls">
                        <label>@metadataInfo.GetProperty("huikuanLeixing").ShowValue</label>
                    </div>
                </div>
            </div>
        </div>
        <div class='row-fluid'>
            <div class="span6">
                <div class="control-group">
                    <label class="control-label" >汇款单位</label>
                    <div class="controls">
                        <label>@metadataInfo.GetProperty("huikuanDanwei").ShowValue</label>
                    </div>
                </div>
            </div>
            <div class="span6">
                <div class="control-group">
                    <label class="control-label" >到款单位</label>
                    <div class="controls">
                        <label>@metadataInfo.GetProperty("daokuanDanwei").ShowValue</label>
                    </div>
                </div>
            </div>
        </div>
        <div class='row-fluid'>
            <div class="span12">
                <div class="control-group">
                    <label class="control-label" >开票单位</label>
                    <div class="controls">
                        <label>@metadataInfo.GetProperty("kaipiaoDanwei").ShowValue</label>
                    </div>
                </div>
            </div>
        </div>
        <div class='row-fluid'>
            <div class="span12">
                <div class="control-group">
                    <label class="control-label" >收货地址</label>
                    <div class="controls">
                        <label>@metadataInfo.GetProperty("shouhuoDizhi").ShowValue</label>
                    </div>
                </div>
            </div>
        </div>
        <div class='row-fluid'>
            <div class="span12">
                <div class="control-group">
                    <label class="control-label" >收货人及电话</label>
                    <div class="controls">
                        <label>@metadataInfo.GetProperty("shouhuoren").ShowValue</label>
                    </div>
                </div>
            </div>
        </div>
    </fieldset>
    <fieldset>
        <legend>产品信息</legend>
        <div style="padding-left: 80px;">
            <div id="chanpinGrid"></div>
        </div>
    </fieldset>
    <fieldset>
        <legend>备注信息</legend>
        <div class='row-fluid'>
            <div class="control-group">
                <label class="control-label" >随货附带</label>
                <div class="controls">
                    <label>@metadataInfo.GetProperty("suihuoFudai").ShowValue</label>
                </div>
            </div>
            <div class="control-group">
                <label class="control-label" >备注</label>
                <div class="controls">
                    <label>@metadataInfo.GetProperty("beizhu").ShowValue</label>
                </div>
            </div>
        </div>
    </fieldset>
</form>


<script language="javascript" type="text/javascript">
var mobanId = '@this.Request["mobanId"]';
var chanpinGrid = $("#chanpinGrid").datagrid({
		columns:[
			{title: "产品名称", width: 150, field:"name"},
			{title: "规格", width: 80, field:"guige"},
			{title: "生产企业", width: 150, field:"shengchanQiye"},
			{title: "单位", width: 60, field:"danwei"},
			{title: "总数量", width: 60, field:"zongshuliang"},
			{title: "开票单价", width: 80, field:"kaipiaoDanjia"},
			{title: "总金额", width: 80, field:"zongjine"},
			{title: "件数", width: 60, field:"jianshu"}
		],
		canSort: false,
		singleSelect: true,
		showNumberRow: false,
        height: 150,
        selectedRow: function(){
            btnChexiao.prop("disabled", false);
        },
        unselectedRow: function(){
            var rows = renwuGrid.datagrid("getSelectedRows");
            btnChexiao.prop("disabled", rows.length == 0);
        }
	});

</script>


</body>
</html>


